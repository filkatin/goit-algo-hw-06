import networkx as nx
import matplotlib.pyplot as plt

# Ініціалізуємо порожній граф
metro_graph = nx.Graph()

# Визначаємо станції для кожної лінії
red_line = ["Академмістечко", "Житомирська", "Святошин", "Нивки", "Берестейська", 
            "Шулявська", "Політехнічний інститут", "Вокзальна", "Університет", 
            "Театральна", "Хрещатик", "Арсенальна", "Дніпро", "Гідропарк", 
            "Лівобережна", "Дарниця", "Чернігівська", "Лісова"]

blue_line = ["Героїв Дніпра", "Мінська", "Оболонь", "Почайна", "Тараса Шевченка", 
             "Контрактова площа", "Поштова площа", "Майдан Незалежності", 
             "Площа Українських Героїв", "Олімпійська", "Палац Україна", "Либідська", 
             "Деміївська", "Голосіївська", "Васильківська", "Виставковий центр", "Теремки"]

green_line = ["Сирець", "Дорогожичі", "Лук’янівська", "Золоті ворота", 
              "Палац спорту", "Кловська", "Печерська", "Звіринецька", 
              "Видубичі", "Славутич", "Осокорки", "Позняки", "Харківська", 
              "Вирлиця", "Бориспільська", "Червоний хутір"]

# Додаємо шлях (послідовність станцій як ребра)
red_edges = [(red_line[i], red_line[i + 1]) for i in range(len(red_line) - 1)]
blue_edges = [(blue_line[i], blue_line[i + 1]) for i in range(len(blue_line) - 1)]
green_edges = [(green_line[i], green_line[i + 1]) for i in range(len(green_line) - 1)]

# Додаємо станції та з'єднання для кожної лінії
metro_graph.add_edges_from(red_edges)
metro_graph.add_edges_from(blue_edges)
metro_graph.add_edges_from(green_edges)

# Додаємо пересадкові станції
metro_graph.add_edge("Театральна", "Золоті ворота")
metro_graph.add_edge("Хрещатик", "Майдан Незалежності")
metro_graph.add_edge("Палац спорту", "Площа Українських Героїв")

# Візуалізація графа
pos = {
    "Академмістечко": (-2, 9), "Житомирська": (-1, 8), "Святошин": (0, 7),
    "Нивки": (1, 6), "Берестейська": (2, 5), "Шулявська": (3, 4),
    "Політехнічний інститут": (4, 3), "Вокзальна": (5, 2.5), "Університет": (6, 2),
    "Театральна": (9, 1),
    "Хрещатик": (10, -1),
    "Арсенальна": (11, -1.5), "Дніпро": (12, -2), "Гідропарк": (13, -2.5),
    "Лівобережна": (14, -3), "Дарниця": (15, -3.5), "Чернігівська": (16, -4),
    "Лісова": (17, -4.5),
      
    "Теремки": (-5, -4), "Іподром": (-4, -3.5), "Виставковий центр": (-3, -3),
    "Васильківська": (-2, -2.5), "Голосіївська": (-1, -2), "Деміївська": (0, -1.5),
    "Либідська": (1, -1), "Палац Україна": (2, -0.5), "Олімпійська": (3, 0),
    "Площа Українських Героїв": (4, 1),
    "Майдан Незалежності": (10, 2),
    "Поштова площа": (10, 3), 
    "Контрактова площа": (10, 4), "Тараса Шевченка": (10, 5), "Почайна": (10, 6),
    "Оболонь": (10, 7), "Мінська": (10, 8), "Героїв Дніпра": (10, 9),

    "Сирець": (4,4.5), "Дорогожичі": (5, 4), "Лук’янівська": (6, 3.5),
    "Золоті ворота": (7, 3),
    "Палац спорту": (7, 0.5),
    "Кловська": (8, -0.5), "Печерська": (9, -1.5), "Звіринецька": (10, -2.5),
    "Видубичі": (11, -3.5), "Славутич": (12, -4.5), "Осокорки": (13, -5.5),
    "Позняки": (14, -6.5),"Харківська": (15, -7.5), "Вирлиця": (16, -8.5),
    "Бориспільська": (17, -9.5), "Червоний хутір": (18, -10.5)
}

# Візуалізуємо граф
plt.figure(figsize=(12, 8))
nx.draw(metro_graph, pos, with_labels=True, node_size=50, font_size=8, node_color="skyblue", edge_color="gray")
plt.title("Мережа метро Києва")
plt.show()

# Аналіз характеристик графа
print("Кількість станцій (вершин):", metro_graph.number_of_nodes())
print("Кількість з’єднань (ребер):", metro_graph.number_of_edges())
print("Ступінь кожної станції:")
for station, degree in metro_graph.degree():
    print(f"{station}: {degree}")

